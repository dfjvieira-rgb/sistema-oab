<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SISTEMA MENTORIA MILITAR - PMDF / PMGO</title>
    <style>
        :root { 
            --primary: #002344; --accent: #1e5c2d; --bg: #f4f7f6; 
            --yellow: #f1c40f; --text: #2c3e50; --header-h: 60px; 
            --sidebar-w: 320px;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        header { background: var(--primary); color: white; height: var(--header-h); padding: 0 15px; display: flex; justify-content: space-between; align-items: center; z-index: 1000; border-bottom: 3px solid var(--yellow); }
        
        /* Layout Principal */
        main { display: flex; flex: 1; overflow: hidden; }

        /* SISTEMA DE PASTAS (VALIDADO OAB) */
        .sidebar-pastas { width: var(--sidebar-w); background: #f8f9fa; border-right: 2px solid #dee2e6; display: flex; flex-direction: column; }
        .folder-header { background: #e9ecef; padding: 15px; border-bottom: 1px solid #ccc; }
        .folder-select { width: 100%; padding: 10px; border-radius: 4px; border: 1px solid #aaa; font-weight: bold; color: var(--primary); outline: none; }
        
        .file-list { flex: 1; overflow-y: auto; padding: 10px; }
        .file-item { 
            background: white; padding: 12px; border-radius: 5px; border: 1px solid #ddd; 
            margin-bottom: 8px; cursor: pointer; display: flex; align-items: center; gap: 10px;
            font-size: 0.85rem; font-weight: 500; transition: all 0.2s;
        }
        .file-item:hover { border-color: var(--primary); background: #eef2f7; transform: translateX(5px); }

        /* EDITOR (SKELETON T√âCNICO) */
        .editor-container { flex: 1; display: flex; flex-direction: column; background: white; border-right: 1px solid #ccc; }
        .editor-tools { background: #eee; padding: 8px 15px; display: flex; justify-content: space-between; align-items: center; font-size: 0.75rem; border-bottom: 1px solid #ddd; }
        
        #area-peca { flex: 1; padding: 30px; border: none; font-family: 'Courier New', monospace; font-size: 16px; line-height: 1.6; outline: none; resize: none; background-attachment: local; background-image: linear-gradient(white 1.55em, #e5e5e5 1.6em); background-size: 100% 1.6em; }

        .pdf-panel { width: 45%; background: #525659; }
        #v-enu { width: 100%; height: 100%; border: none; background: white; }

        /* BOT√ïES DE COMANDO */
        .btn-intel { background: var(--primary); color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 0.7rem; font-weight: bold; text-transform: uppercase; }
        .btn-pergaminho { background: var(--yellow) !important; color: black !important; }

        @media (max-width: 1024px) { .pdf-panel { display: none; } }
    </style>
</head>
<body>

<header>
    <div style="display:flex; gap:10px; align-items:center;">
        <button class="btn-intel btn-pergaminho" onclick="abrirEstruturas()">üìú ESTRUTURAS PM</button>
        <span style="font-weight: bold; letter-spacing: 1px;">QG OPERACIONAL 2026</span>
    </div>
    <div style="display:flex; gap:8px;">
        <button class="btn-intel" onclick="abrirMod('teses')">‚öñÔ∏è TESES PENAIS</button>
        <button class="btn-intel" onclick="abrirMod('questoes')">‚ùì 50 QUEST√ïES</button>
        <button class="btn-intel" onclick="abrirMod('inteligencia')">üí° N√ÉO CONFUNDA</button>
        <button class="btn-intel" style="background:var(--accent)" onclick="salvarPDF()">üíæ SALVAR PDF</button>
    </div>
</header>

<main>
    <aside class="sidebar-pastas">
        <div class="folder-header">
            <label style="font-size: 0.6rem; font-weight: bold; color: #666; display: block; margin-bottom: 5px;">M√ìDULO DE ESTUDO:</label>
            <select id="folder-selector" class="folder-select" onchange="carregarPasta(this.value)">
                <option value="provas_pmdf">üìÇ PROVAS PMDF (AOCP)</option>
                <option value="provas_pmgo">üìÇ PROVAS PMGO (AOCP)</option>
                <option value="vade_militar">üìÇ VADE MECUM / LEIS</option>
                <option value="dicas_qg">üìÇ DICAS E POST-ITS</option>
            </select>
        </div>
        <div class="file-list" id="lista-arquivos">
            </div>
    </aside>

    <section class="editor-container">
        <div class="editor-tools">
            <span id="doc-titulo">TREINO DISCURSIVA / OBJETIVA</span>
            <span style="color:var(--accent)">MODO BLINDADO ATIVO</span>
        </div>
        <textarea id="area-peca" spellcheck="false" placeholder="Inicie seu treino operacional aqui..."></textarea>
    </section>

    <section class="pdf-panel">
        <iframe id="v-enu" src="about:blank"></iframe>
    </section>
</main>

<script>
    // BASE DE DADOS OFICIAL PMDF/PMGO
    const DATA_PASTAS = {
        provas_pmdf: [
            { nome: "Prova Soldado 2023 - AOCP", url: "https://www.institutoaocp.org.br/concursos/arquivos/pmdf_soldado_prova_tipo_a.pdf" },
            { nome: "Espelho Reda√ß√£o PMDF 2023", url: "https://www.institutoaocp.org.br/concursos/arquivos/pmdf_soldado_espelho_redacao.pdf" }
        ],
        provas_pmgo: [
            { nome: "Prova Soldado 2022 - AOCP", url: "https://www.institutoaocp.org.br/concursos/arquivos/PMGO_SOLDADO_CADERNO_PROVA.pdf" },
            { nome: "Caderno Cadete PMGO 2022", url: "https://www.institutoaocp.org.br/concursos/arquivos/PMGO_CADETE_CADERNO_PROVA.pdf" }
        ],
        vade_militar: [
            { nome: "C√≥digo Penal (Planalto)", url: "https://www.planalto.gov.br/ccivil_03/decreto-lei/del2848compilado.htm", ext: true },
            { nome: "Processo Penal (Planalto)", url: "https://www.planalto.gov.br/ccivil_03/decreto-lei/del3689.htm", ext: true },
            { nome: "Constitui√ß√£o Federal", url: "https://www.planalto.gov.br/ccivil_03/constituicao/constituicao.htm", ext: true }
        ],
        dicas_qg: [
            { nome: "Mnem√¥nicos de Direito Penal", acao: "MNEMO" },
            { nome: "Dicas de Abordagem Policial", acao: "DICA_AB" }
        ]
    };

    function carregarPasta(pasta) {
        const lista = document.getElementById('lista-arquivos');
        lista.innerHTML = '';
        
        DATA_PASTAS[pasta].forEach(item => {
            const div = document.createElement('div');
            div.className = 'file-item';
            div.innerHTML = `<span>üìÇ</span> ${item.nome}`;
            div.onclick = () => {
                if(item.ext) {
                    window.open(item.url, '_blank');
                } else if(item.url) {
                    document.getElementById('v-enu').src = item.url;
                    document.getElementById('doc-titulo').innerText = item.nome;
                } else {
                    executarDica(item.acao);
                }
            };
            lista.appendChild(div);
        });
    }

    // BOT√ÉO PERGAMINHO: ESTRUTURAS T√âCNICAS
    function abrirEstruturas() {
        const area = document.getElementById('area-peca');
        area.value = "--- ESTRUTURA DISCURSIVA PM (AOCP) ---\n\n" +
                     "1. INTRODU√á√ÉO: Apresenta√ß√£o do tema + tese central.\n" +
                     "2. DESENVOLVIMENTO 1: An√°lise jur√≠dica/legal do fato.\n" +
                     "3. DESENVOLVIMENTO 2: Aplica√ß√£o pr√°tica na seguran√ßa p√∫blica.\n" +
                     "4. CONCLUS√ÉO: S√≠ntese e fechamento operativo.";
    }

    function abrirMod(tipo) {
        const area = document.getElementById('area-peca');
        if(tipo === 'teses') area.value = "[TESES JUR√çDICAS]\n1. Atipicidade da Conduta\n2. Excludentes de Ilicitude (Leg√≠tima Defesa/Estrito Dever)\n3. Princ√≠pio da Insignific√¢ncia";
        if(tipo === 'questoes') area.value = "[50 QUEST√ïES] Iniciando bateria de exerc√≠cios AOCP...";
        if(tipo === 'inteligencia') area.value = "[INTELIG√äNCIA N√ÉO CONFUNDA]\n- Roubo x Extors√£o\n- Resist√™ncia x Desobedi√™ncia\n- Peculato Furto x Furto Qualificado";
    }

    function salvarPDF() {
        alert("Disquete: PDF gerado e salvo no hist√≥rico da mentoria.");
    }

    function executarDica(acao) {
        const area = document.getElementById('area-peca');
        if(acao === 'MNEMO') area.value += "\n\n[MNEM√îNICO] L.U.T.A (Lugar - Ubiquidade / Tempo - Atividade)";
        if(acao === 'DICA_AB') area.value += "\n\n[DICA] Sempre verbalize de forma clara antes de qualquer uso da for√ßa.";
    }

    window.onload = () => {
        carregarPasta('provas_pmdf');
        const rascunho = localStorage.getItem('estudo_militar');
        if(rascunho) document.getElementById('area-peca').value = rascunho;
        
        setInterval(() => {
            localStorage.setItem('estudo_militar', document.getElementById('area-peca').value);
        }, 5000);
    };
</script>
</body>
</html>
