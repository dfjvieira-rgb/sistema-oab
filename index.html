<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>SISTEMA PMDF 2025 - CFO ELITE</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #020617; --gold: #fbbf24; --gold-dark: #d97706;
            --bg-paper: #cbd5e1; --paper-color: #ffffff; 
            --mentoria-bg: #1e3a8a; --sidebar-w: 70px;
            --pmdf-accent: #ffd700;
        }

        body.dark-mode { --bg-paper: #0f172a; }
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body { 
            font-family: 'Inter', system-ui, sans-serif; 
            background: var(--primary); 
            height: 100vh; 
            display: flex; 
            flex-direction: column; 
            overflow: hidden; 
            color: white;
        }

        /* HEADER FIXO */
        header { 
            background: var(--primary); 
            height: 60px; padding: 0 20px; 
            display: flex; justify-content: space-between; align-items: center; 
            border-bottom: 2px solid var(--pmdf-accent); 
            z-index: 5000;
        }

        .logo { font-size: 1.1rem; font-weight: 900; }
        .logo span { color: var(--pmdf-accent); }

        main { display: flex; flex: 1; overflow: hidden; position: relative; }
        
        /* SIDEBAR ORIGINAL */
        .sidebar { 
            width: var(--sidebar-w); 
            background: #1e293b; 
            display: flex; flex-direction: column; align-items: center;
            gap: 15px; padding: 20px 0; 
            border-right: 1px solid rgba(255,255,255,0.1); 
        }

        .btn-side { 
            width: 50px; height: 50px; border: none; border-radius: 12px; 
            display: flex; align-items: center; justify-content: center; color: white; 
            cursor: pointer; transition: 0.3s; background: rgba(255,255,255,0.05);
        }
        .btn-side i { font-size: 1.2rem; color: var(--pmdf-accent); }

        /* EDITOR CONTAINER */
        .editor-container { 
            flex: 1; display: flex; flex-direction: column; 
            background: var(--bg-paper); overflow-y: auto; align-items: center; padding: 20px;
        }

        .paper { 
            width: 100%; max-width: 850px; background: white; 
            min-height: 1500px; box-shadow: 0 10px 40px rgba(0,0,0,0.4);
            padding: 60px; color: #000; font-size: 16px; line-height: 1.8;
            outline: none;
        }

        /* --- P√ÅGINA DE MENTORIA (MODO NOVA P√ÅGINA) --- */
        #pagina-mentoria {
            position: fixed; inset: 0; 
            background: #0f172a; 
            z-index: 10000; 
            display: none; /* Escondido por padr√£o */
            flex-direction: column;
            animation: fadeInPage 0.3s ease-in-out;
        }
        #pagina-mentoria.active { display: flex; }

        @keyframes fadeInPage {
            from { opacity: 0; transform: scale(1.05); }
            to { opacity: 1; transform: scale(1); }
        }

        .mentoria-nav { 
            height: 70px; background: var(--mentoria-bg); 
            display: flex; align-items: center; justify-content: space-between; 
            padding: 0 30px; border-bottom: 3px solid var(--pmdf-accent);
        }

        .mentoria-grid {
            flex: 1; padding: 40px; overflow-y: auto;
            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px; max-width: 1200px; margin: 0 auto; width: 100%;
        }

        .card-intel {
            background: #1e293b; border: 1px solid rgba(255,215,0,0.1);
            padding: 30px; border-radius: 16px; text-align: left;
            cursor: pointer; transition: 0.3s;
        }
        .card-intel:hover { border-color: var(--pmdf-accent); background: #24344d; transform: translateY(-5px); }
        .card-intel i { font-size: 2rem; color: var(--pmdf-accent); margin-bottom: 15px; display: block; }
        .card-intel h3 { color: #fff; margin-bottom: 10px; font-size: 1.1rem; }
        .card-intel p { color: #94a3b8; font-size: 0.85rem; line-height: 1.5; }

        /* MODAL DE RESPOSTA DA INTELIG√äNCIA */
        #modal-intel-result {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9);
            z-index: 11000; display: none; align-items: center; justify-content: center;
        }
        .result-body {
            background: white; color: #0f172a; width: 90%; max-width: 650px;
            border-radius: 20px; padding: 40px;
        }

    </style>
</head>
<body class="dark-mode">

<header>
    <div class="logo">PMDF <span>CFO 2025</span></div>
    <div id="status-pm" style="font-size: 10px; font-weight: bold; color: var(--pmdf-accent);">EDITAL 03/2025 ATIVO</div>
</header>

<main>
    <aside class="sidebar">
        <button class="btn-side" style="background:var(--mentoria-bg);" onclick="window.abrirPaginaMentoria()">
            <i class="fas fa-brain"></i>
        </button>
        <button class="btn-side" onclick="window.abrirPergaminho()">
            <i class="fas fa-scroll"></i>
        </button>
        <button class="btn-side" style="background:#059669;" onclick="window.salvarDisquete()">
            <i class="fas fa-save"></i>
        </button>
    </aside>

    <section class="editor-container">
        <div class="paper" id="editor-principal" contenteditable="true">
            </div>
    </section>
</main>

<div id="pagina-mentoria">
    <div class="mentoria-nav">
        <span style="font-weight: 900; letter-spacing: 1px;">üß† HUB DE INTELIG√äNCIAS PMDF</span>
        <button onclick="window.fecharPaginaMentoria()" style="background:var(--pmdf-accent); border:none; padding:10px 20px; border-radius:8px; font-weight:900; cursor:pointer;">VOLTAR AO EDITOR</button>
    </div>
    
    <div class="mentoria-grid">
        <div class="card-intel" onclick="window.carregarIntel('CRIMES_MILITARES')">
            <i class="fas fa-gavel"></i>
            <h3>Crimes Militares</h3>
            <p>An√°lise do Art. 9¬∫ do CPM (Crimes em tempo de paz e extens√£o da compet√™ncia).</p>
        </div>
        <div class="card-intel" onclick="window.carregarIntel('PROC_ADM')">
            <i class="fas fa-file-invoice"></i>
            <h3>IPM e Sindic√¢ncia</h3>
            <p>Ritos de Pol√≠cia Judici√°ria Militar para o posto de Oficial.</p>
        </div>
        <div class="card-intel" onclick="window.carregarIntel('REQUISITOS_TAF')">
            <i class="fas fa-running"></i>
            <h3>Diretrizes TAF/Sa√∫de</h3>
            <p>Crit√©rios do edital para exames m√©dicos, psicol√≥gicos e toxicol√≥gicos.</p>
        </div>
        <div class="card-intel" onclick="window.carregarIntel('CESPE_DISCURSIVA')">
            <i class="fas fa-pen-nib"></i>
            <h3>Padr√£o Cebraspe</h3>
            <p>Teses de reda√ß√£o e estrutura de resposta definitiva sem identifica√ß√£o.</p>
        </div>
        <div class="card-intel" onclick="window.carregarIntel('LEGISLACAO_PM')">
            <i class="fas fa-balance-scale"></i>
            <h3>Lei 7.289/84</h3>
            <p>Estatuto dos Policiais Militares e prerrogativas do cargo.</p>
        </div>
    </div>
</div>

<div id="modal-intel-result">
    <div class="result-body">
        <h2 id="intel-titulo" style="color: var(--mentoria-bg); margin-bottom: 20px; border-bottom: 2px solid #eee;"></h2>
        <div id="intel-texto" style="white-space: pre-wrap; margin-bottom: 30px; font-size: 15px; line-height: 1.6; max-height: 350px; overflow-y: auto;"></div>
        <div style="display: flex; gap: 10px;">
            <button onclick="window.injetarNaPeca()" style="flex: 1; padding: 15px; background: var(--mentoria-bg); color: white; border: none; border-radius: 10px; font-weight: bold; cursor: pointer;">INJETAR TEXTO</button>
            <button onclick="document.getElementById('modal-intel-result').style.display='none'" style="flex: 1; padding: 15px; background: #eee; border: none; border-radius: 10px; font-weight: bold; cursor: pointer;">CANCELAR</button>
        </div>
    </div>
</div>

<script>
    // NAVEGA√á√ÉO ENTRE P√ÅGINAS
    window.abrirPaginaMentoria = () => {
        document.getElementById('pagina-mentoria').classList.add('active');
    };

    window.fecharPaginaMentoria = () => {
        document.getElementById('pagina-mentoria').classList.remove('active');
    };

    // BANCO DE DADOS EDITAL√çCIO
    const DATA_PMDF = {
        CRIMES_MILITARES: "CRIMES MILITARES (ART. 9¬∫ CPM):\n- Foco na nova reda√ß√£o da Lei 13.491/2017.\n- Crimes praticados por militares em servi√ßo contra civis (compet√™ncia do Tribunal do J√∫ri se houver dolo contra a vida).",
        CESPE_DISCURSIVA: "PADR√ÉO CEBRASPE (CFO):\n- Resposta t√©cnica fundamentada.\n- Proibi√ß√£o de rubricas ou sinais que identifiquem o candidato.\n- Avalia√ß√£o de legibilidade, respeito √†s margens e paragrafa√ß√£o.",
        REQUISITOS_TAF: "SA√öDE E TAF (EDITAL 03/2025):\n- Exame Toxicol√≥gico: Larga janela de detec√ß√£o (m√≠nimo 60 dias).\n- Laudo Psiqui√°trico: Deve descrever humor, afeto, cogni√ß√£o e intelig√™ncia."
    };

    window.carregarIntel = (chave) => {
        const titulo = chave.replace(/_/g, ' ');
        document.getElementById('intel-titulo').innerText = titulo;
        document.getElementById('intel-texto').innerText = DATA_PMDF[chave] || "Mapeando diretrizes do Edital para esta fun√ß√£o...";
        document.getElementById('modal-intel-result').style.display = 'flex';
    };

    window.injetarNaPeca = () => {
        const texto = document.getElementById('intel-texto').innerText;
        const editor = document.getElementById('editor-principal');
        editor.innerText += "\n\n" + texto;
        
        // Fecha tudo e volta para o editor
        document.getElementById('modal-intel-result').style.display = 'none';
        window.fecharPaginaMentoria();
        editor.focus();
    };

    window.salvarDisquete = () => {
        alert("Pe√ßa Blindada! Salva no hist√≥rico de Mentoria PMDF.");
    };
</script>
</body>
</html>
